# Неочевидные ошибки

Я получил дополнительное убеждение о том, что ошибки в коде в первую очередь появляются в следствии плохого дизайна этого самого кода. А лучшим средством для исправления ошибок является невозможность их появления. При реализации АТД одной из задач, стоящих перед программистом, является задача по формированию предусловий и постусловий. На этом этапе программист должен озаботиться о том, чтобы внутрь класса не попали такие данные, с которыми он не смог бы корректно работать. Правда, не всегда такое возможно, ввиду ограниченности ресурсов мозга, но принцип Паррето в этом случае хорошо сыграет.

При написании проекта с нуля необходимо уделить особое внимание границам сущностей, именно в них в будущем будет сложнее всего внести изменения. А чтобы это научиться делать - курс ООАП3 и опыт. Причем, кажется мне, что опыт имеет первостепенно значение, но должен быть основан на теоретических знаниях.

При рефакторинге уже существующего решения нужно менять не код, экономия нескольких строк кода может привести к его усложнению. До сих пор просыпаюсь в холодном поту от "топовых" решений задачек на CodeWars, состоящих из одной строчки длиной в 200 символов.

Недавно мы вместе с тимлидом рассматривали код на C++, в нем было сделано страшное: существует абстрактный класс и у него существует одна единственная имплементация. В исполняемом коде происходит динамический каст абстрактного типа к этой самой имплементации, а делается это не в одном и даже не в двух местах программы. Итого получается, что задумка была хороша- использовать один интерфейс абстрактного класса повсеместно, абстрагироваться от имплементации, а вот исполнение подкачало... Кажется, у тимлида даже волос стало несколько меньше, ведь он рвал их на себе, пока видел этот код. А что самое интересное- код как- то попал в production еще несколько лет назад. Кажется, это совсем не соответствует рекомендации "не допускать появление ошибок".
